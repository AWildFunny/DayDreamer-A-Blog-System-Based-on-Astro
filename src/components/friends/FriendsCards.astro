---
import FriendCard from "./FriendCard.astro";

import yml from "./config.yml";

interface FriendType {
  name: string;
  desc: string;
  friends: [Friend];
}

interface Friend {
  name: string;
  section?: boolean;
  desc?: string;
  slogan?: string;
  url: string;
  avatar: string;
}
---

{
  yml.types.map((type: FriendType) => (
    <div class="mt-16">
      <h3>{type.name}</h3>
      {type.desc && (
        <p class="secondary-color mt-2">
          <i class="ri-double-quotes-l" />
          {type.desc}
          <i class="ri-double-quotes-r" />
        </p>
      )}
      <ul class="mt-4 grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
        {type.friends.map((friend: Friend) => (
          <FriendCard
            name={friend.name}
            desc={friend.desc}
            slogan={friend.slogan}
            url={friend.url}
            avatar={friend.avatar}
          />
        ))}
      </ul>
    </div>
  ))
}
