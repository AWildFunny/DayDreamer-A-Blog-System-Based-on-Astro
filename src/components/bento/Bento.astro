---
import BoxWrapper from "./BoxWrapper.astro";

import Box from "./Box.astro";
import BgBox from "./BgBox.astro";
import Map from "./Map.astro";
import MBTI from "./MBTI.astro";
import LearnMore from "./LearnMore.astro";
---

<div class="text-center secondary-color mt-4">
  <p id="too-small-hint">
    <i class="ri-alert-line"></i> 您的屏幕太小，这里的组件无法正常显示。
  </p>
</div>

<div id="bento-wrapper" class="relative mx-auto max-w-md lg:max-w-4xl mt-8">
  <BoxWrapper top="0" left="0" width="25%" height="25%" smt="50%" sml="0">
    <Box>
      <div class="p-4">
        <h3>
          💻📱⌚️🛠️<br />
          科技数码<br />爱好者
        </h3>
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper top="0" left="25%" width="25%" height="25%" smt="50%" sml="50%">
    <Box>
      <div class="p-4">
        <h3>Self-hoster</h3>
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper top="0" left="50%" width="50%" height="25%" smt="100%" sml="0">
    <MBTI />
  </BoxWrapper>

  <BoxWrapper top="25%" left="0%" width="25%" height="50%" smt="200%" sml="0">
    <BgBox bg_image="url('/quzhou_tower.jpeg')">
      <div class="p-4 z-10">
        <p class="absolute top-4 left-4 text-sm">
          <i class="ri-home-line"></i> 故乡
        </p>
        <h3 class="pt-2 text-center text-white">
          浙<br />江<br />衢<br />州
        </h3>
      </div>
    </BgBox>
  </BoxWrapper>

  <BoxWrapper
    top="25%"
    left="25%"
    width="25%"
    height="25%"
    smt="200%"
    sml="50%"
  >
    <BgBox bg_image="url('/hnu.jpg')">
      <div class="p-4">
        <p class="absolute top-4 left-4 text-sm">
          <i class="ri-graduation-cap-line"></i> 本科在读
        </p>
        <div class="text-center">
          <h3 class="pt-2 text-white">湖南大学</h3>
          <p class="mt-2 font-bold">Hunan University</p>
        </div>
      </div>
    </BgBox>
  </BoxWrapper>

  <BoxWrapper top="25%" left="50%" width="50%" height="25%" smt="150%" sml="0">
    <Map />
  </BoxWrapper>

  <BoxWrapper top="50%" left="25%" width="50%" height="25%" smt="0" sml="0">
    <div class="absolute all-0 m-4 flex flex-col justify-center items-center">
      <h3 class="primary-color" id="type"></h3>
    </div>
  </BoxWrapper>
  <script>
    import TypeIt from "typeit";
    new TypeIt("#type", {
      strings: "嗨 👋 我是 SkyWT。<br>很高兴认识你～",
      speed: 100,
      waitUntilVisible: true,
    }).go();
  </script>

  <BoxWrapper
    top="50%"
    left="75%"
    width="25%"
    height="25%"
    smt="250%"
    sml="50%"
  >
    <Box>
      <div class="p-4">
        <h3>读万卷书</h3>
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper top="75%" left="0" width="50%" height="25%" smt="300%" sml="0">
    <Box>
      <div class="p-4">
        <h3>
          <span class="secondary-color">立志成为</span>
          <br />
          <span>全栈工程师 ⚙️</span>
          <!-- <span>独立开发者 👨‍💻</span> -->
          <!-- <span>黑客与画家 🎨</span> -->
          <!-- <span>终身学习者 📚</span> -->
        </h3>
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper top="75%" left="50%" width="25%" height="25%" smt="350%" sml="0">
    <Box>
      <div class="flex flex-col items-center">
        <img src="/avatar.png" alt="My Avatar" class="rounded-full w-24 h-24" />
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper
    top="75%"
    left="75%"
    width="25%"
    height="12.5%"
    smt="350%"
    sml="50%"
  >
    <Box url="https://cv.skywt.cn">
      <div class="p-4">
        <div class="absolute top-1 right-2 text-sm">
          <i class="ri-external-link-line"></i>
        </div>
        <p class="text-center">
          <i class="ri-file-list-line"></i>
          我的简历
        </p>
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper
    top="87.5%"
    left="75%"
    width="25%"
    height="12.5%"
    smt="375%"
    sml="50%"
  >
    <Box url="mailto:me@skywt.cn">
      <div class="p-4">
        <div class="absolute top-1 right-2 text-sm">
          <i class="ri-external-link-line"></i>
        </div>
        <p class="text-center">
          <i class="ri-mail-line"></i>
          me@skywt.cn
        </p>
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper top="100%" left="0%" width="25%" height="25%" smt="450%" sml="0">
    <Box>
      <div class="p-4">
        <h3 class="text-center tertiary-color font-light">
          不是一个<br />
          ❌<br />
          做题家
        </h3>
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper top="100%" left="25%" width="50%" height="25%" smt="400%" sml="0">
    <Box>
      <div class="p-8">
        <i class="ri-double-quotes-l font-4xl"></i>
        <p class="font-bold">
          黑客与画家的共同之处，在于他们都是创作者。与作曲家、建筑师、作家一样，黑客和画家都是试图创作出优秀的作品。
        </p>
        <p class="mt-2 text-right">——《黑客与画家》</p>
      </div>
    </Box>
  </BoxWrapper>

  <BoxWrapper
    top="100%"
    left="75%"
    width="25%"
    height="25%"
    smt="450%"
    sml="50%"
  >
    <LearnMore />
  </BoxWrapper>

  <div id="bento-placeholder"></div>
</div>

<style>
  @media (max-width: 319px) {
    #bento-wrapper {
      @apply hidden;
    }
  }
  @media (min-width: 320px) {
    #too-small-hint {
      @apply hidden;
    }
  }

  #bento-placeholder {
    padding-bottom: 500%;
  }

  @screen lg {
    #bento-placeholder {
      padding-bottom: 125%;
    }
  }

  h3 {
    @apply font-black;
  }

  :global(.bento-border) {
    @apply rounded-2xl shadow-md shadow-gray-200 dark:shadow-neutral-800;
  }

  :global(.bento-bg) {
    @apply bg-white dark:bg-neutral-800;
  }

  :global(.clickable) {
    @apply cursor-pointer transition-all;
    @apply hover:bg-gray-200 dark:hover:bg-neutral-600;
  }

  :global(.clickable:active) {
    transform: scale(0.98);
  }
</style>
