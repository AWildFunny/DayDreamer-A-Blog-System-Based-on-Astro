---
import Layout from "@layouts/Layout.astro";
import Passages from "@components/blog/Passages.astro";
import Subscribe from "@components/blog/Subscribe.astro";
import Selection from "@components/blog/Selection.astro";
import selections_yml from "@configs/selections.yml";
import api from "@scripts/api";

const posts = await api.getTimeline(1, 10);
---

<Layout title="博客" path={[{ title: "博客", url: "" }]}>
  <main>
    <section class="container mt-8 sm:mt-32">
      <h1>文章精选</h1>
      <Selection selections={selections_yml.selections} />
      <p class="card p-2 leading-loose">
        🗃️ 前往「<a href="/blog/archives" class="link underline">文章归档</a
        >」页面即可一览博客的全部文章。<br />
        📧 现在可以<a
          href="https://mailchi.mp/97e1f54049cd/subscribe"
          class="link underline">使用邮箱订阅博客</a
        >，或者<a href="/rss.xml" class="link underline">通过 RSS 订阅</a
        >。欢迎订阅！
      </p>

      <hr class="my-16" />
      <h1>最新文章</h1>
      <div class="mt-16">
        <Passages posts={posts} />
      </div>

      <div class="primary-color flex">
        <div class="basis-1/3"></div>
        <div class="basis-1/3 text-center">
          <span>第 1 页</span>
        </div>
        <div class="basis-1/3 text-right">
          <a href="/blog/2" class="link">下一页</a>
        </div>
      </div>
    </section>

    <Subscribe />
  </main>
</Layout>
@scripts/markdown
