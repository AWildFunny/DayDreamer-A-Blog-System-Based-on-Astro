---
const url = new URL("https://blog.skywt.cn/api/posts");
url.search = new URLSearchParams({
  page: "1",
  pageSize: "10",
  showDigest: "more",
  showContent: "false",
}).toString();
const response = await fetch(url);
const data = await response.json();
const posts = data.data.dataSet;

import Layout from "../layouts/Layout.astro";
import Passages from "../components/blog/Passages.astro";
import Subscribe from "../components/blog/Subscribe.astro";
---

<Layout title="博客" path={["博客"]}>
  <main>
    <section class="container mt-32">
      <Passages posts={posts} />
      <div class="primary-color flex">
        <div class="basis-1/3"></div>
        <div class="basis-1/3 text-center">
          <span>第 1 页</span>
        </div>
        <div class="basis-1/3 text-right">
          <a href="/blog/2" class="link">下一页</a>
        </div>
      </div>
    </section>

    <Subscribe />
  </main>
</Layout>
