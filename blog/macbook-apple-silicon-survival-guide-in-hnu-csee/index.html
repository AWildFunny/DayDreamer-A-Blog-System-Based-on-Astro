<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.1.1"><title>在 HNU 信息院的 Apple Silicon 生存指南</title><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap"><!-- Matomo --><script>
      var _paq = (window._paq = window._paq || []);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "//analytics.skywt.cn/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "1"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
    </script><!-- End Matomo Code --><link rel="stylesheet" href="/_astro/about.4DFoe-cT.css" />
<style>img[data-astro-cid-4sn4zg3r]{border-radius:.25rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}
</style>
<link rel="stylesheet" href="/_astro/friends.CELmKF_Q.css" /></head> <body> <header class="mt-12 wide-container" data-astro-cid-3ef6ksr2> <h5 class="mt-4 mx-4 secondary-color sm:hidden text-center" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客</a> </span><span>
/
在 HNU 信息院的 Apple Silicon 生存指南 </span> </h5> </header> <nav class="py-2 font-thin sticky top-0 backdrop-blur-md z-10 transition-all" id="navbar-wrapper" data-astro-cid-3ef6ksr2> <div class="wide-container flex justify-center sm:justify-between flex-wrap" data-astro-cid-3ef6ksr2> <h5 class="m-2 hidden sm:block secondary-color" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客</a> </span><span>
/
在 HNU 信息院的 Apple Silicon 生存指南 </span> </h5> <div class="m-2 secondary-color" data-astro-cid-3ef6ksr2> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
主页
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> 博客 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> 实验室 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> 友人 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> 关于 </a> </li> </ul>  </div> </div> </nav> <script>
  const headerEl = document.querySelector("#navbar-wrapper");
  const sentinalEl = document.querySelector("header");
  const handler = (entries) => {
    if (!entries[0].isIntersecting) {
      headerEl.classList.add("sticked");
    } else {
      headerEl.classList.remove("sticked");
    }
  };
  const observer = new window.IntersectionObserver(handler);
  observer.observe(sentinalEl);
</script>   <main data-astro-cid-4sn4zg3r> <section class="container mt-32" data-astro-cid-4sn4zg3r>  <h1 class="primary-color leading-relaxed" data-astro-cid-4sn4zg3r>在 HNU 信息院的 Apple Silicon 生存指南</h1> <p class="mt-4 secondary-color leading-relaxed" data-astro-cid-4sn4zg3r> <i class="ri-calendar-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>2023 年 06 月 23 日</span>  <br data-astro-cid-4sn4zg3r> <i class="ri-map-pin-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>湖南省长沙市岳麓区湖南大学天马学生公寓</span>   <br data-astro-cid-4sn4zg3r> <i class="ri-discuss-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>共 3 条评论</span>  </p> <hr class="my-8" data-astro-cid-4sn4zg3r> <p class="card p-2 my-8" data-astro-cid-4sn4zg3r>
⚙️ 全新博客前端仍在测试中。如果文章显示不正常，可以尝试访问<a href="https://blog.skywt.cn/posts/macbook-apple-silicon-survival-guide-in-hnu-csee" class="link underline" data-astro-cid-4sn4zg3r>原博客的这篇文章</a>。
</p> <article class="prose dark:prose-neutral dark:prose-invert max-w-none" data-astro-cid-4sn4zg3r> <p>2020 年末，Apple M1 横空出世，2021 年刚高考完的我看着「吊打 Intel」的性能对比图，以及 MacBook Air 优雅又近乎极端的无风扇设计，毫不犹豫地入手了。虽然只能用 macOS，虽然是 arm 架构的芯片，但是「反正我本来就讨厌 Windows」，不管这么多了！那时候的我并没有意识到，这个选择会给大学学习带来怎样的麻烦。</p><!--more--><p>在大学里，不少课堂上要用到的软件都是 Windows 专有的，实验也大多是 x86 only 的……这给我带来了无数额外的折腾。特将各种课程里的折腾汇总成如下 Apple Silicon「生存指南」，一些成功案例，一些踩雷避坑，如果有不幸的学弟学妹也中了 Apple 的邪，可供参考。在观望 Apple 芯片版 Mac 电脑的同学也可参考后决定。</p><p>（当然最不折腾的方案就是：买一台新的 x86 电脑……）</p><h2>运行 Windows 软件的方案</h2><h3>运行虚拟机</h3><h4>Parallels Desktop</h4><p>在 macOS 平台上对 Windows 的支持最完美的当属 <a href="https://www.parallels.com/">Parallels Desktop</a> （简称 PD）了。这款软件对 Apple 芯片的 Mac 上运行 Windows 进行了很好的优化，安装使用难度也非常低。</p><p>除了运行 Windows，PD 也可以运行其他 Linux 发行版。除了 arm，它也可以模拟 x86，只是速度相较之下会比较慢。</p><p>PD 是收费软件，价格不菲。每人有 14 天的免费试用。如果想要白嫖，可以参考之前的文章：<a href="https://blog.skywt.cn/posts/the-software-i-use-for-free#toc_title3">那些我白嫖的软件们</a>。</p><h4>UTM</h4><p><a href="https://mac.getutm.app">UTM</a> 是一个基于 QEMU 的虚拟机软件，完全开源免费。最初是用于在 iPhone 或 iPad 上运行桌面操作系统虚拟机的，当 Apple 依靠魔改 iPhone 的 A 系列芯片重磅推出 M 系列芯片的时候，UTM 也顺理成章地推出了 macOS 版。</p><p>UTM 也可以在 arm 上运行 x86 虚拟机。详细的参数调整涉及 QEMU，有些硬核，不如 PD 那么完善和友好。有可能遇到奇奇怪怪的问题。可以作为除了 PD 之外的第二选择。</p><h3>尝试 Wine</h3><p>Wine 是一个开源项目，它实现了一些 Windows 的 API。通过 Wine 提供的兼容层，可以在 Unix 系统上运行一些 Windows 软件。当然，也有 macOS 一份。<br>Wine 并不是虚拟机。一个冷知识：Wine 是 Wine Is Not an Emulator 的递归简称……</p><p>macOS 上的 Wineskin Winery 是对 Wine 的封装，提供了简洁友好的 GUI 方便我们上手使用，可以在<a href="https://sourceforge.net/projects/wineskin/">这里</a>下载。</p><p>使用 Wineskin Winery 创建 wrapper，在其中可以运行 Windows 的 exe 程序。运行时，就像运行 macOS 上的 app 一样会有一个窗口，甚至可以 Cmd+F 全屏。<br>运行时可能会遇到一些小小的问题，比如某 dll 文件缺失（软件打不开，log 里有显示）、中文无法显示（缺失中文字体，中文会全是方块）等，这些可以使用 Wineskin 内置的 Winetricks 进行调整。</p><h3>「云电脑」</h3><p>所谓的「云电脑」就是计时出租的远程桌面，一般是按时间收费，价格不会特别贵。但是似乎由于种种原因，目前国内面向个人消费者的云电脑服务并不多，许多比较大的云服务厂商都不做这个。</p><p>个人试用过<a href="https://www.qingjiaocloud.com/">青椒云</a>，说实话体验一般。小公司有限的带宽配上 HNU 时而便秘的校园网，延迟还是有一些的。</p><p>如果买一台主机放在寝室里，通过虚拟组网，可以在外远程桌面连接上这台主机。这也是一种「云电脑」……事实上，我确实这么做了。可以参考：<a href="https://blog.skywt.cn/vpn-with-tailscale-and-headscale">使用 Tailscale & Headscale 进行虚拟组网</a>。</p><h3>寻找替代品</h3><p>不少软件都有 macOS 上可用的替代品。可以自行搜寻，此处不赘述。</p><h2>使用 x86 环境的方案</h2><h3>VPS</h3><p>拥有一台 VPS，即使是对于不学计算机专业的同学来说，也是很有必要并且很酷的。国内的腾讯云、阿里云、华为云都有很划算的新人优惠，每年 ¥100 左右。国外的 Vultr、Bandwagon 也都是不错的选择。当然关于 VPS 选购的水很深，没事可以逛逛 <a href="https://hostloc.com/">hostloc</a>。</p><p>总之，购买了 VPS、选一个喜欢的 Linux 发行版，SSH 上去就是一个 x86 实验环境了。这应该是最方便的方法。</p><h3>Lima</h3><p>虽然前文所述 PD、UTM 都支持 x86 虚拟化，但是他们都是针对带图形界面的桌面操作系统的。而我们做 CSAPP 之类的实验只需要一个终端，用不着大费周章搞个桌面环境。这时候，简洁优雅的 lima 就是不错的选择。</p><p><a href="https://lima-vm.io/">Lima</a> 是适用于 macOS 的虚拟机（似乎也是基于 QEMU 的），支持文件共享和端口转发。支持 ARM on ARM、ARM on Intel、Intel on ARM、Intel on Intel 的虚拟机。通过简洁的几行命令，就可以快速开启一个虚拟机，用起来非常方便。<a href="https://github.com/lima-vm/lima/blob/master/docs/multi-arch.md">GitHub 上的文档</a>对各种用法有详细的介绍。</p><p>如果不习惯使用命令行，<a href="https://github.com/afbjorklund/lima-gui">Lima-gui</a> 也值得一看。<br>如果对 Docker 比较熟悉，可以直接试试 <a href="https://github.com/abiosoft/colima">Colima</a>，这是基于 Lima 的 Containerd 运行时。个人觉得从概念上来说「Docker 容器」比「虚拟机」要优雅不少，虽然二者在 macOS 上都是虚拟机……</p><h2>HNU 不同课程的情况</h2><h3>程序设计 / 数据结构与算法</h3><p>强烈不推荐老师推荐的 Dev-cpp 和 Code Blocks，这俩都是古董级软件了。推荐 VSCode。直接在集成终端里用 gcc 或 g++ 编译，这相比无脑的 F12 显然更透明一些。</p><p>程序设计到后期涉及到多文件编程，老师的演示是「创建一个 Code Blocks 项目」。如果写多个文件手工编译需要自行链接。如果不想提前自学链接相关的知识，可以用 VSCode 的「C/C++ Project Generator」这个插件。这个插件可以像 Code Blocks 一样给我们创建好一个项目和对应的 Makefile，编译时只需要在代码目录下 <code>make</code> 即可。</p><h3>计算机系统（CSAPP）</h3><p>CSAPP 课程本身脱离了 Windows 的苦海，可以用任意 Linux 发行版来完成该课程。但是教材是针对 x86 写的，大多数 lab 也都要求在 x86 架构的平台进行。所以还是要有一个 x86 的环境。</p><h3>电路与电子学</h3><p>这门课要用到的两个软件，Quartus II 和 Multisim，都只有 Windows 版。</p><p>最初尝试在 PD 上跑 Quartus II 的较新版本 13.0sp1，没有成功。经过测试，用 PD 17 跑 Windows 11 arm 虚拟机，在里面运行 Quartus II，创建项目就会 crash：</p><blockquote>Internal Error: Sub-system: DYGR, File: /quartus/ddb/dygr/dygr_place_info.cpp, Line: 3776</blockquote><p>在 Intel 的官方论坛<a href="https://community.intel.com/t5/Intel-Quartus-Prime-Software/Quartus-Fitter-Crashing/td-p/1326460">这个帖子</a>上找到不少人遇到一样的问题，似乎至今没有解决。</p><p>不能装新版本，我们可以试试旧版本。老师指定的版本是 Quartus 9.0。在 PD 虚拟机上运行这个版本没有问题。然而版本从 9 到 14 经历了太多，Altera 公司被 Intel 收购了，Intel 目前官网上不提供老版本的下载。我们可以在 Internet Archive 里找到 <a href="https://archive.org/details/90-quartus-free">Quartus II 9.0 Web Edition</a>。这是免费软件。</p><p>至于 Multisim 则没有问题，在 PD 虚拟机上可以运行。</p><h3>小学期夏季实训</h3><p>夏季实训用到的 Keil uVision 软件，只支持 Windows。老师提供的 STC-ISP 软件（将 hex 文件刷进单片机的软件）以及驱动程序也只有 Windows 的版本。</p><p>对于 <a href="https://www.keil.com/download/product/">Keil uVision</a> 软件，用 Parallels 当然是可以的。我尝试的是 Wineskin Winery，也可以运行，只是速度比较慢。如果我们只是将其作为一个 IDE 而不连接设备（需要连接设备的操作使用下面的 stcgal），这样使用没有问题。（讽刺的是，Keil 是 ARM 公司的软件……它就不打算支持一下自家的 Apple 芯片嘛？！）</p><p>对于 STC-ISP，事实上 STC 的 flash tool 有开源的实现：<a href="https://github.com/grigorig/stcgal">stcgal</a>，亲测在 macOS 上非常好用。只是没法支持「串口助手」之类的东西，但影响不大。<br>经过测试，STC-ISP 似乎不能用 Wine 运行。</p><p>至于 STC-ISP 的「串口助手」功能，即用于串口通讯的功能，其实可以直接用 screen 实现。macOS 上也有不少用于串口通讯的软件。</p><h3>电子测试平台</h3><p>电子测试平台课程除了要用到上面提到的 Quartus II、Multisim 和 STC-ISP，好像还有 Modelsim 等软件。但是据说这个软件在 Windows 上安装起来都很困难（装完就蓝屏之类的）。这门课程要求模糊不清、学习资源质量差、教师安排混乱且不负责，比较浪费时间，我没有认真做。验收的时候用别人的电脑就可以。</p><h3>数学建模竞赛</h3><p>可能要用到的 Matlab、Lingo、IBM SPSS 都有 macOS 版本。如果装不起庞大的 Matlab，可以试试 Octave。直接用 Python 或 R 也是不错的选择。</p><h3>其他课程</h3><ul><li>普通物理实验。老师会推荐使用 Origin 软件（Windows 专有的）处理数据、绘制图表。但是实际上只要画个折线图，Excel 也是可以胜任的。或者用 Matlab 或 Python 等都可以完成要求（反正实验报告老师也不会仔细看的）。</li><li>物理虚拟实验。这个实验要求安装一个 IE 插件，然后使用 IE 在浏览器中完成。显然是本世纪初的一套系统。实验本身意义不大，建议找人代刷。</li><li>体育定向越野，老师可能会要我们自己设计一张地图，这个设计软件是一个只支持 Windows 的专有软件……不过只是个小作业，不交问题不大。</li><li>湖南青马学习，一个思政学习平台。要求浏览器支持 Flash。可以使用 360 极速浏览器的 macOS 版。使用前深呼吸，预防高血压。</li></ul><h2>最后</h2><p>在 Google 查找「如何在 macOS 上运行某某软件」的解决方案的时候。经常看到某些国外名牌大学的课程说明里会提供详尽的 macOS 实验环境搭建指南。而 HNU 似乎天经地义地将个人电脑和 Windows 画上等号……虽然这也有国内外 macOS 市场占有率的差异，但也真希望国内大学的各种课程也能够注重学生的学习体验。</p> </article> <hr class="my-8" data-astro-cid-4sn4zg3r> <h2> <i class="ri-discuss-line"></i> 共 3 条评论 </h2> <div class="primary-color my-4"> <div class="flex items-center"> <img src="https://gravatar.com/avatar/b5f28636018743fe41e0af17b6237e2e" class="rounded-full w-12 mr-2"> <div class="m-2"> <a href="https://wind.ink" class="link" target="_blank"> <h4>风清</h4> </a> <p class="mt-1">2023 年 7 月 4 日 4:23</p> </div> </div> <p class="mt-2">我最近在想入手MAC MINI M2 16G+256，小小的机身真的很方便。</p> <div class="ml-8">  </div> </div><div class="primary-color my-4"> <div class="flex items-center"> <img src="https://gravatar.com/avatar/d86c509a2386dfea4e61e088d5f15062" class="rounded-full w-12 mr-2"> <div class="m-2"> <a href="https://ayu.land" class="link" target="_blank"> <h4>Ayu</h4> </a> <p class="mt-1">2023 年 6 月 24 日 16:39</p> </div> </div> <p class="mt-2">定向越野可以用 OpenOrienteering Mapper，但总归有学习成本，不喜欢玩这项运动的话不一定值ww

以及 VirtualBox 似乎也支持 Apple Silicon 啦？不知道性能如何</p> <div class="ml-8">  </div> </div><div class="primary-color my-4"> <div class="flex items-center"> <img src="https://gravatar.com/avatar/f8696cc9f87f21bf585ddcb27258e374" class="rounded-full w-12 mr-2"> <div class="m-2"> <a href="https://cyp0633.icu" class="link" target="_blank"> <h4>cyp0633</h4> </a> <p class="mt-1">2023 年 6 月 22 日 16:39</p> </div> </div> <p class="mt-2">&gt; 这门课程要求模糊不清、学习资源质量差、教师安排混乱且不负责，比较浪费时间，我没有认真做。

哈哈哈哈哈哈哈哈哈哈（苦笑）</p> <div class="ml-8">  </div> </div> <hr class="my-8"> <h2> <i class="ri-discuss-line"></i>
发表评论
</h2> <p class="primary-color card my-4 p-2">
🚧 新博客系统的评论功能仍在开发中，敬请期待。可以前往<a href="https://blog.skywt.cn/posts/macbook-apple-silicon-survival-guide-in-hnu-csee" class="link underline">原博客的这篇文章</a>底部评论区发表评论。
</p> </section> </main>  <footer class="mt-16 py-8 bg-gray-100 dark:bg-neutral-900"> <div class="wide-container secondary-color text-sm"> <div class="m-2 flex justify-between flex-wrap"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客</a> </span><span>
/
在 HNU 信息院的 Apple Silicon 生存指南 </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
主页
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  博客 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  实验室 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  友人 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  关于 </a> </li> </ul>  </div> </div> <hr> <div class="m-2 flex justify-between flex-wrap"> <p class="m-2">
&#169; 2017-2024 <a href="https://skywt.cn/" class="link">SkyWT</a> /
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
浙公网安备33080202000472号</a> /
<a href="https://beian.miit.gov.cn/" target="_blank" class="link">
浙ICP备2021019606号-1
</a> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  <a href="https://www.foreverblog.cn/" target="_blank" class="inline-block mx-1"> <img src="https://img.foreverblog.cn/logo_en_default.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> </div> </div> </div> </footer> </body></html> 