<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.1.1"><title>CentOS 之死与商业之恶</title><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap"><script>
      function addMatomo() {
        var _paq = (window._paq = window._paq || []);
        _paq.push(["trackPageView"]);
        _paq.push(["enableLinkTracking"]);
        (function () {
          var u = "//analytics.skywt.cn/";
          _paq.push(["setTrackerUrl", u + "matomo.php"]);
          _paq.push(["setSiteId", "1"]);
          var d = document,
            g = d.createElement("script"),
            s = d.getElementsByTagName("script")[0];
          g.async = true;
          g.src = u + "matomo.js";
          s.parentNode.insertBefore(g, s);
        })();
      }

      document.addEventListener(
        "astro:page-load",
        () => {
          addMatomo();
        },
        { once: false },
      );
    </script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/about.1W6dObU1.css" />
<style>img[data-astro-cid-4sn4zg3r]{border-radius:.25rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}
</style>
<link rel="stylesheet" href="/_astro/friends.S8xh7Zkr.css" /><script type="module" src="/_astro/hoisted.-OpaiJNX.js"></script></head> <body> <header class="mt-12 wide-container" data-astro-cid-3ef6ksr2> <h5 class="mt-4 mx-4 secondary-color sm:hidden text-center" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客</a> </span><span>
/
CentOS 之死与商业之恶 </span> </h5> </header> <nav class="py-2 font-thin sticky top-0 backdrop-blur-md z-10 transition-all" id="navbar-wrapper" data-astro-cid-3ef6ksr2> <div class="wide-container flex justify-center sm:justify-between flex-wrap" data-astro-cid-3ef6ksr2> <h5 class="m-2 hidden sm:block secondary-color" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客</a> </span><span>
/
CentOS 之死与商业之恶 </span> </h5> <div class="m-2 secondary-color" data-astro-cid-3ef6ksr2> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
主页
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> 博客 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> 实验室 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> 友人 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> 关于 </a> </li> </ul>  </div> </div> </nav> <script>
  // 使用 ViewTransition 后，所有 DOM 操作的 js 都有一堆问题
  // 这里用了极不优雅的 var，有待改进
  var observer;
  function addNavObserver() {
    const headerEl = document.querySelector("#navbar-wrapper");
    const sentinalEl = document.querySelector("header");
    if (!sentinalEl || !headerEl) return;
    observer = new window.IntersectionObserver((e) => {
      if (!e[0].isIntersecting) {
        headerEl.classList.add("sticked");
      } else {
        headerEl.classList.remove("sticked");
      }
    });
    observer.observe(sentinalEl);
  }

  function removeNavObserver() {
    if (observer) observer.disconnect();
    observer = null;
  }

  document.addEventListener(
    "astro:page-load",
    () => {
      addNavObserver();
    },
    { once: false },
  );

  document.addEventListener(
    "astro:before-swap",
    () => {
      removeNavObserver();
    },
    { once: false },
  );
</script>   <main data-astro-cid-4sn4zg3r> <section class="container mt-8 sm:mt-32" data-astro-cid-4sn4zg3r>  <h1 class="primary-color leading-relaxed" data-astro-cid-4sn4zg3r>CentOS 之死与商业之恶</h1> <p class="mt-4 secondary-color leading-relaxed" data-astro-cid-4sn4zg3r> <i class="ri-calendar-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>2021 年 11 月 06 日</span>   <br data-astro-cid-4sn4zg3r> <i class="ri-discuss-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>共 1 条评论</span>  </p> <hr class="my-8" data-astro-cid-4sn4zg3r> <p class="card p-2 my-8" data-astro-cid-4sn4zg3r>
⚙️ 全新博客前端仍在测试中。如果文章显示不正常，可以尝试访问<a href="https://blog.skywt.cn/posts/death-of-centos-and-evil-of-business" class="link underline" data-astro-cid-4sn4zg3r>原博客的这篇文章</a>。
</p> <article class="content" data-astro-cid-4sn4zg3r> <p>由于 Appnode 出了我们无法解决的玄学问题，打算重装一下服务器，换用 lnmp.org。<br>原来用的是 CentOS 7，听说 CentOS 8 出了。比较了一下本决定安装 CentOS 8，结果就看到一条非常令人震惊的消息：「CentOS 已死！」</p><!--more--><p>[warning]这其实是一篇火星文。CentOS 官方在 2020 年 12 月 8 日发表了公告，然而我现在才知道。[/warning]</p><h2>CentOS 已死</h2><p>CentOS 官方在 2020 年 12 月 8 日发表了这个公告：<a href="https://blog.centos.org/2020/12/future-is-centos-stream/">CentOS Project shifts focus to CentOS Stream</a>。</p><blockquote><strong>CentOS Project shifts focus to CentOS Stream</strong><br>The future of the CentOS Project is CentOS Stream, and over the next year we’ll be shifting focus from CentOS Linux, the rebuild of Red Hat Enterprise Linux (RHEL), to CentOS Stream, which tracks just ahead of a current RHEL release. <strong>CentOS Linux 8, as a rebuild of RHEL 8, will end at the end of 2021. CentOS Stream continues after that date,</strong> serving as the upstream (development) branch of Red Hat Enterprise Linux.<br>Meanwhile, we understand many of you are deeply invested in CentOS Linux 7, and we’ll continue to produce that version through the remainder of the RHEL 7 life cycle.</blockquote><p>翻译翻译：</p><blockquote><ul><li>CentOS 8 原计划维护到 2029 年，现在我们出尔反尔，到 2021 年底就不维护啦.</li><li>CentOS 7 按照原计划维护到 2024 年。</li><li>之后就没有 CentOS 啦。</li></ul></blockquote><p>那我仍然想用 CentOS 平台怎么办呢？官方提供了「解决方案」：</p><blockquote>When CentOS Linux 8 (the rebuild of RHEL8) ends, your best option will be to migrate to CentOS Stream 8, which is a small delta from CentOS Linux 8, and has regular updates like traditional CentOS Linux releases. If you are using CentOS Linux 8 in a production environment, and are concerned that CentOS Stream will not meet your needs, we encourage you to contact Red Hat about options.</blockquote><p>翻译翻译：</p><blockquote><ul><li>你最好用 CentOS Stream 8，这个处于 RHEL 上游的操作系统滚动发行，更不稳定，bug 更多，其实就是帮我们当小白鼠测试 RHEL。换句话说，新的 CentOS Stream 8 就是 RHEL 的 beta 版。</li><li>如果你想要和原来一样稳定的 CentOS 用于生产环境，那就联系我们，付钱。</li></ul></blockquote><p>这个决定引起了社区的公愤。有人甚至做了恶搞网站 <a href="https://centos.rip">centos.rip</a>，页脚写的这句话特别具有讽刺性：</p><blockquote>The CentOS Project is a collection of free involuntary production machines for beta testing for RedHat Enterprise Linux. Testing RedHat on your production servers circa 2020.</blockquote><h2>起源</h2><p>2004 年，CentOS 项目问世。CentOS 是一个社区支持的发行版，使用红帽公司的 RHEL 作为上游。</p><p>因为 RHEL 是开源的，基于社区的 CentOS 从 RHEL 的源码修改而来，主要是移除 RHEL 的商标和闭源软件。</p><p>由于 CentOS 的稳定性，其迅速成为生产环境服务器上应用最广泛的操作系统。</p><h2>病变</h2><p>2014 年 1 月 7 日，CentOS 发表公告：<a href="https://lists.centos.org/pipermail/centos-announce/2014-January/020100.html">CentOS Project joins forces with Red Hat</a>。</p><blockquote>With great excitement I'd like to announce that we are joining the Red Hat family. The CentOS Project ( <a href="http://www.centos.org">http://www.centos.org</a> ) is joining forces with Red Hat.</blockquote><p>Red Hat 开始给 CentOS 提供赞助并取得了 CentOS 商标的所有权，实际上「收购」了 CentOS。事实上这个社区的领导层已经都被「偷偷摸摸」换成了红帽的员工或者与其有直接利益关系的人。</p><p>当时他们给出了承诺：</p><blockquote><p>Some of the things that are not changing:</p><ul><li><strong>The CentOS Linux platform isn't changing.</strong> The process and methods built up around the platform however are going to become <strong>more open, more inclusive and transparent.</strong></li><li>The sponsor driven content network that has been central to the success of the CentOS efforts over the years stays intact.</li><li>The bugs, issues, and incident handling process stays as it has been with more opportunities for community members to get involved at various stages of the process.</li><li><strong>The Red Hat Enterprise Linux to CentOS firewall will also remain.</strong> Members and contributors to the CentOS efforts are still isolated from the RHEL Groups inside Red Hat, with the only interface being srpm / source path tracking, no sooner than is considered released. In summary: we retain an upstream.</li></ul><p><strong>Feel free to reach out if you have specific concerns about how this change impacts your CentOS story.</strong> URLs mentioned at the bottom of this email should be a good starting point.</p></blockquote><p>现在看来他们果然没有遵守承诺。从被「收购」的一刻起，CentOS 就已经在 Red Hat 的操控之下，或许就已经死了。</p><p>或许 Red Hat 早有计划。</p><p>Red Hat 作为第一家收入达十亿美元的开源公司，是开源领域的行业领头羊。<br>然而 CentOS 的出现对 RHEL 的销售带来太大的影响，成了 Red Hat 的障碍。于是 Red Hat 以友好的态度「赞助」或是「收购」CentOS，7 年来逐步渗透和打破这个「The Red Hat Enterprise Linux to CentOS firewall」，然而最终搞死 CentOS 才是他们的目的。<br>现在，时机成熟了，扫清 CentOS 这个障碍就是一弹指的事情。</p><p>不得不说，真是一个十分英明的计划。</p><h2>新生：Rocky Linux</h2><p>CentOS 早期的发起人 Gregory Kurtzer 发起了一个新的「CentOS」：<a href="https://rockylinux.org">Rocky Linux</a>，作为新的 RHEL 的下游。</p><p>现在，Rocky Linux 已经发行了第一个版本。可能这也算是 CentOS 的一个新生吧。我们可以感叹，在商业和自由的斗争中，还有某种精神会一直留存下去。</p><h2>感想</h2><p>自由软件的世界里，社区项目被商业公司操纵的案例屡见不鲜，MySQL 事件即为一例。MySQL 催生了 MariaDB，也获得了一定程度上的成功，CentOS 催生的 Rocky Linux 能不能再一次成功呢？</p><p>但是我们又如何保证 MariaDB 和 Rocky Linux 不重蹈 MySQL 和 CentOS 的覆辙？</p><p>是不是自由软件的世界就是在「社区驱动 - 商业赞助/收购 - 被搞死 - 新的社区驱动」中的轮回呢？</p><blockquote>资本来到世间，从头到脚，每个毛孔都滴着血和肮脏的东西。<br>——马克思《资本论》</blockquote><h2>换用 Debian</h2><p>对于小型服务器，CentOS 以外，剩下的选择基本只剩下 Ubuntu 和 Debian。<br>考虑到 Ubuntu 也是商业公司运作的产品，虽然开源，但是总没有 Debian 的这种 100% 自由的纯粹性（虽然可能性很小，但是也不是没有重蹈 CentOS 覆辙的可能）。并且 Ubuntu 基于 Debian，但是没有 Debian 轻量。于是我还是选用了 Debian。</p><h3>升级到 Debian 11</h3><p>阿里云只提供了 Debian 10（buster）的镜像，然而 lnmp 要求安装环境 Debian 11（bullseye）。为此我们要自己升级 Debian。参考：<a href="https://linux.cn/article-13647-1.html">将 Debian 10 Buster 升级到 11 Bullseye</a>。整个过程还是很快的。</p><p>首先检查更新并安装升级要用的 <code>gcc-8-base</code> 包：</p><pre><code>sudo apt update &amp;&amp; sudo apt upgrade
sudo apt install gcc-8-base</code></pre><p>编辑 <code>/etc/apt/sources.list</code>，注释掉原来的 buster 仓库，换成 bullseye。建议使用<a href="https://mirrors.tuna.tsinghua.edu.cn/help/debian/">清华源</a>：</p><pre><code># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free

deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free

deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free</code></pre><p>然后就可以更新了：</p><pre><code>sudo apt update
sudo apt full-upgrade</code></pre><p>清华源真的很快，下载速度可以达到 10+M/s。<br>完成后重启系统，然后清理不必要的安装包：</p><pre><code>sudo apt --purge autoremove</code></pre><p>现在查看系统信息，可以发现已经是 debian 11 啦！</p><p><img src="https://skywt.cn/usr/uploads/2021/11/2936923190.png" alt="Debian 截图" title="Debian 截图"></p><p>CentOS，感谢曾经的你陪我走过的路。有缘再见吧。</p> </article> <hr class="my-8" data-astro-cid-4sn4zg3r> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();</script><astro-island uid="ZYHEKc" component-url="/_astro/Comments.nA8khF3T.js" component-export="default" renderer-url="/_astro/client.d8bzWiGl.js" props="{&quot;slug&quot;:[0,&quot;death-of-centos-and-evil-of-business&quot;],&quot;permalink&quot;:[0,&quot;https://blog.skywt.cn/posts/death-of-centos-and-evil-of-business&quot;],&quot;data-astro-cid-4sn4zg3r&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Comments&quot;,&quot;value&quot;:true}" await-children=""><h2><i class="ri-discuss-line"></i> 暂无评论</h2><hr class="my-8"/><h2><i class="ri-discuss-line"></i> 发表评论</h2><p class="primary-color card my-4 p-2">🚧 新博客系统的评论功能仍在开发中，敬请期待。可以前往<a href="https://blog.skywt.cn/posts/death-of-centos-and-evil-of-business" class="link underline">原博客的这篇文章</a>底部评论区发表评论。</p><!--astro:end--></astro-island> </section> </main>  <footer class="mt-16 py-8 bg-gray-100 dark:bg-neutral-900"> <div class="wide-container secondary-color text-sm"> <div class="flex justify-between flex-wrap"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客</a> </span><span>
/
CentOS 之死与商业之恶 </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
主页
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  博客 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  实验室 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  友人 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  关于 </a> </li> </ul>  </div> </div> <hr class="my-4"> <div class="flex justify-between flex-wrap"> <p class="m-2">
&#169; 2017-2024 <a href="/" class="link">SkyWT</a>
|
<a href="/sitemap.xml" class="link">站点地图</a>
|
<a href="/friends" class="link">友情链接</a>
|
<a href="https://foreverblog.cn/go.html" class="link">虫洞</a> <!-- |
        <a href="https://github.com/Skywt2003/Daydreamer" class="link"
          >Daydreamer</a
        > --> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  <a href="https://www.foreverblog.cn/" target="_blank" class="inline-block mx-1"> <img src="https://img.foreverblog.cn/logo_en_default.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> </div> </div> <div class="flex justify-between flex-wrap"> <p class="m-2"> <a href="https://beian.miit.gov.cn/" target="_blank" class="link">
浙 ICP 备 2021019606 号 - 1</a>
|
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
浙公网安备 33080202000472 号</a> </p> <p class="m-2"> <!-- <span class="align-middle">由</span>
        <a
          href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"
          class="inline-block align-middle"
        >
          <img src="/upyun.png" class="h-6" />
        </a>
        <span class="align-middle">提供 CDN 加速、云存储服务</span> --> </p> </div> </div> </footer> </body></html> 