import"./hoisted.-OpaiJNX.js";const O=document.getElementById("uptime"),P=new Date,J=new Date("12/11/2017 11:00:00"),X=()=>{P.setTime(P.getTime()+250);const t=P.getTime()-J.getTime(),e=Math.floor(t/1e3/60/60/24),s=Math.floor(t/1e3/60/60-24*e),i=Math.floor(t/1e3/60-24*60*e-60*s),r=Math.round(t/1e3-24*60*60*e-60*60*s-60*i);O.innerText=(e?e.toString()+" 天 ":"")+(s?s.toString()+" 小时 ":"")+(i?i.toString()+" 分 ":"")+(r?r.toString()+" 秒":"")};setInterval(X,250);const G=()=>{let t=document.querySelector("#scroll-hint");t.classList.add("fade-in"),t.classList.remove("opacity-0")};setTimeout(G,5e3);const M=t=>Array.isArray(t),H=t=>M(t)?t:[t];let K=function(t){let e=function(u){return H(u).forEach(f=>h.set(Symbol(f.char?.innerText),r({...f}))),this},s=()=>a().filter(u=>u.typeable),i=function(u,f){let j=[...h.keys()];h.set(j[u],r(f))},r=u=>(u.shouldPauseCursor=function(){return!!(this.typeable||this.cursorable||this.deletable)},u),n=function(){h.forEach(u=>delete u.done)},l=function(){h=new Map,e(t)},o=()=>h,a=()=>Array.from(h.values()),c=u=>h.delete(u),d=(u=!1)=>u?a():a().filter(f=>!f.done),p=(u,f=!1)=>f?h.delete(u):h.get(u).done=!0,h=new Map;return e(t),{add:e,set:i,wipe:l,done:p,reset:n,destroy:c,getItems:d,getQueue:o,getTypeable:s}};const R="data-typeit-id",m="ti-cursor",Y="END",Z={started:!1,completed:!1,frozen:!1,destroyed:!1},b={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map(t=>({opacity:t})),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},ee=`[${R}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`,S=t=>document.createElement(t),I=t=>document.createTextNode(t),F=(t,e="")=>{let s=S("style");s.id=e,s.appendChild(I(t)),document.head.appendChild(s)},N=t=>(M(t)||(t=[t/2,t/2]),t),k=(t,e)=>Math.abs(Math.random()*(t+e-(t-e))+(t-e));let A=t=>t/2;function te(t){let{speed:e,deleteSpeed:s,lifeLike:i}=t;return s=s!==null?s:e/3,i?[k(e,A(e)),k(s,A(s))]:[e,s]}const $=t=>Array.from(t);let L=t=>([...t.childNodes].forEach(e=>{if(e.nodeValue){[...e.nodeValue].forEach(s=>{e.parentNode.insertBefore(I(s),e)}),e.remove();return}L(e)}),t);const B=t=>{let e=document.implementation.createHTMLDocument();return e.body.innerHTML=t,L(e.body)};function Q(t,e=!1,s=!1){let i=t.querySelector(`.${m}`),r=document.createTreeWalker(t,NodeFilter.SHOW_ALL,{acceptNode:o=>{if(i&&s){if(o.classList?.contains(m))return NodeFilter.FILTER_ACCEPT;if(i.contains(o))return NodeFilter.FILTER_REJECT}return o.classList?.contains(m)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),n,l=[];for(;n=r.nextNode();)n.originalParent||(n.originalParent=n.parentNode),l.push(n);return e?l.reverse():l}function se(t){return Q(B(t))}function ie(t,e=!0){return e?se(t):$(t).map(I)}const _=t=>Number.isInteger(t),q=({queueItems:t,selector:e,cursorPosition:s,to:i})=>{if(_(e))return e*-1;let r=new RegExp(Y,"i").test(i),n=e?[...t].reverse().findIndex(({char:o})=>{let a=o.parentElement,c=a.matches(e);return r&&c?!0:c&&a.firstChild.isSameNode(o)}):-1;n<0&&(n=r?0:t.length-1);let l=r?0:1;return n-s+l},re=t=>(t.forEach(clearTimeout),[]),T=(t,e)=>new Array(e).fill(t);let w=t=>new Promise(e=>{requestAnimationFrame(async()=>{e(await t())})}),U=t=>t?.getAnimations().find(e=>e.id===t.dataset.tiAnimationId),z=({cursor:t,frames:e,options:s})=>{let i=t.animate(e,s);return i.pause(),i.id=t.dataset.tiAnimationId,w(()=>{w(()=>{i.play()})}),i},ne=({cursor:t,options:e,cursorOptions:s})=>{if(!t||!s)return;let i=U(t),r;i&&(e.delay=i.effect.getComputedTiming().delay,r=i.currentTime,i.cancel());let n=z({cursor:t,frames:s.animation.frames,options:e});return r&&(n.currentTime=r),n},D=t=>t.func?.call(null),oe=async({index:t,queueItems:e,wait:s,cursor:i,cursorOptions:r})=>{let n=e[t][1],l=[],o=t,a=n,c=()=>a&&!a.delay,d=n.shouldPauseCursor()&&r.autoPause;for(;c();)l.push(a),c()&&o++,a=e[o]?e[o][1]:null;if(l.length)return await w(async()=>{for(let u of l)await D(u)}),o-1;let p=U(i),h;return p&&(h={...p.effect.getComputedTiming(),delay:d?r.autoPauseDelay:0}),await s(async()=>{p&&d&&p.cancel(),await w(()=>{D(n)})},n.delay),await ne({cursor:i,options:h,cursorOptions:r}),t};const le=(t,e)=>{new IntersectionObserver((i,r)=>{i.forEach(n=>{n.isIntersecting&&(e(),r.unobserve(t))})},{threshold:1}).observe(t)},ae=()=>Math.random().toString().substring(2,9),E=t=>"value"in t;let ue=t=>E(t)?$(t.value):Q(t,!0).filter(e=>!(e.childNodes.length>0)),y=t=>typeof t=="function"?t():t,v=(t,e=document,s=!1)=>e[`querySelector${s?"All":""}`](t),he=t=>/body/i.test(t?.tagName),ce=(t,e)=>{if(E(t)){t.value=`${t.value}${e.textContent}`;return}e.innerHTML="";let s=he(e.originalParent)?t:e.originalParent||t;s.insertBefore(e,v("."+m,s)||null)};const de=t=>/<(.+)>(.*?)<\/(.+)>/.test(t.outerHTML),g=(t,e)=>Object.assign({},t,e);let fe=t=>{if(typeof t=="object"){let e={},{frames:s,options:i}=b.cursor.animation;return e.animation=t.animation||{},e.animation.frames=t.animation?.frames||s,e.animation.options=g(i,t.animation?.options||{}),e.autoPause=t.autoPause??b.cursor.autoPause,e.autoPauseDelay=t.autoPauseDelay||b.cursor.autoPauseDelay,e}return t===!0?b.cursor:t};const me=(t,e)=>{if(!t)return;let s=t.parentNode;(s.childNodes.length>1||s.isSameNode(e)?t:s).remove()},pe=(t,e,s)=>{let i=e[s-1],r=v(`.${m}`,t);t=i?.parentNode||t,t.insertBefore(r,i||null)};function ye(t){return typeof t=="string"?v(t):t}let be={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"},ge=(t,e)=>{let i=`${`[${R}='${t}']`} .${m}`,r=getComputedStyle(e),n=Object.entries(be).reduce((l,[o,a])=>`${l} ${o}: var(--ti-cursor-${o}, ${a||r[o]});`,"");F(`${i} { display: inline-block; width: 0; ${n} }`,t)};function Te(t){return t.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/)}let Se=(t,e,s)=>Math.min(Math.max(e+t,0),s.length),we=(t,e,s)=>new Promise(i=>{let r=async()=>{await t(),i()};s.push(setTimeout(r,e||0))});class Ee{element;timeouts;cursorPosition;predictedCursorPosition;statuses={started:!1,completed:!1,frozen:!1,destroyed:!1};opts;id;queue;cursor;unfreeze=()=>{};constructor(e,s={}){this.opts=g(b,s),this.element=ye(e),this.timeouts=[],this.cursorPosition=0,this.unfreeze=()=>{},this.predictedCursorPosition=null,this.statuses=g({},Z),this.id=ae(),this.queue=K([{delay:this.opts.startDelay}]),this.#E(s),this.cursor=this.#C(),this.element.dataset.typeitId=this.id,F(ee),this.opts.strings.length&&this.#w()}go(){return this.statuses.started?this:(this.#p(),this.opts.waitUntilVisible?(le(this.element,this.#i.bind(this)),this):(this.#i(),this))}destroy(e=!0){this.timeouts=re(this.timeouts),y(e)&&this.cursor&&this.#c(this.cursor),this.statuses.destroyed=!0}reset(e){!this.is("destroyed")&&this.destroy(),e?(this.queue.wipe(),e(this)):this.queue.reset(),this.cursorPosition=0;for(let s in this.statuses)this.statuses[s]=!1;return this.element[this.#u()?"value":"innerHTML"]="",this}is=function(e){return this.statuses[e]};type(e,s={}){e=y(e);let{instant:i}=s,r=this.#r(s),l=ie(e,this.opts.html).map(a=>({func:()=>this.#h(a),char:a,delay:i||de(a)?0:this.#s(),typeable:a.nodeType===Node.TEXT_NODE})),o=[r[0],{func:async()=>await this.opts.beforeString(e,this)},...l,{func:async()=>await this.opts.afterString(e,this)},r[1]];return this.#e(o,s)}break(e={}){return this.#e({func:()=>this.#h(S("BR")),typeable:!0},e)}move(e,s={}){e=y(e);let i=this.#r(s),{instant:r,to:n}=s,l=q({queueItems:this.queue.getTypeable(),selector:e===null?"":e,to:n,cursorPosition:this.#l}),o=l<0?-1:1;return this.predictedCursorPosition=this.#l+l,this.#e([i[0],...T({func:()=>this.#d(o),delay:r?0:this.#s(),cursorable:!0},Math.abs(l)),i[1]],s)}exec(e,s={}){let i=this.#r(s);return this.#e([i[0],{func:()=>e(this)},i[1]],s)}options(e,s={}){return e=y(e),this.#n(e),this.#e({},s)}pause(e,s={}){return this.#e({delay:y(e)},s)}delete(e=null,s={}){e=y(e);let i=this.#r(s),r=e,{instant:n,to:l}=s,o=this.queue.getTypeable(),a=r===null?o.length:_(r)?r:q({queueItems:o,selector:r,cursorPosition:this.#l,to:l});return this.#e([i[0],...T({func:this.#o.bind(this),delay:n?0:this.#s(1),deletable:!0},a),i[1]],s)}freeze(){this.statuses.frozen=!0}flush(e=()=>{}){return this.#p(),this.#i(!1).then(e),this}getQueue(){return this.queue}getOptions(){return this.opts}updateOptions(e){return this.#n(e)}getElement(){return this.element}empty(e={}){return this.#e({func:this.#g.bind(this)},e)}async#g(){if(this.#u()){this.element.value="";return}this.#t.forEach(this.#c.bind(this))}async#i(e=!0){this.statuses.started=!0;let s=i=>{this.queue.done(i,!e)};try{let i=[...this.queue.getQueue()];for(let n=0;n<i.length;n++){let[l,o]=i[n];if(!o.done){if(!o.deletable||o.deletable&&this.#t.length){let a=await this.#f(n,i);Array(a-n).fill(n+1).map((c,d)=>c+d).forEach(c=>{let[d]=i[c];s(d)}),n=a}s(l)}}if(!e)return this;if(this.statuses.completed=!0,await this.opts.afterComplete(this),!this.opts.loop)throw"";let r=this.opts.loopDelay;this.#m(async()=>{await this.#T(r[0]),this.#i()},r[1])}catch{}return this}async#d(e){this.cursorPosition=Se(e,this.cursorPosition,this.#t),pe(this.element,this.#t,this.cursorPosition)}async#T(e){let s=this.#l;s&&await this.#d({value:s});let i=this.#t.map(r=>[Symbol(),{func:this.#o.bind(this),delay:this.#s(1),deletable:!0,shouldPauseCursor:()=>!0}]);for(let r=0;r<i.length;r++)await this.#f(r,i);this.queue.reset(),this.queue.set(0,{delay:e})}#f(e,s){return oe({index:e,queueItems:s,wait:this.#m.bind(this),cursor:this.cursor,cursorOptions:this.opts.cursor})}async#m(e,s,i=!1){this.statuses.frozen&&await new Promise(r=>{this.unfreeze=()=>{this.statuses.frozen=!1,r()}}),i||await this.opts.beforeStep(this),await we(e,s,this.timeouts),i||await this.opts.afterStep(this)}async#p(){if(!this.#u()&&this.cursor&&this.element.appendChild(this.cursor),this.#b){ge(this.id,this.element),this.cursor.dataset.tiAnimationId=this.id;let{animation:e}=this.opts.cursor,{frames:s,options:i}=e;z({frames:s,cursor:this.cursor,options:{duration:this.opts.cursorSpeed,...i}})}}#u(){return E(this.element)}#e(e,s){return this.queue.add(e),this.#S(s),this}#S(e={}){let s=e.delay;s&&this.queue.add({delay:s})}#r(e={}){return[{func:()=>this.#n(e)},{func:()=>this.#n(this.opts)}]}async#n(e){this.opts=g(this.opts,e)}#w(){let e=this.opts.strings.filter(s=>!!s);e.forEach((s,i)=>{if(this.type(s),i+1===e.length)return;let r=this.opts.breakLines?[{func:()=>this.#h(S("BR")),typeable:!0}]:T({func:this.#o.bind(this),delay:this.#s(1)},this.queue.getTypeable().length);this.#y(r)})}#E=e=>{e.cursor=fe(e.cursor??b.cursor),this.opts.strings=this.#P(H(this.opts.strings)),this.opts=g(this.opts,{html:!this.#a&&this.opts.html,nextStringDelay:N(this.opts.nextStringDelay),loopDelay:N(this.opts.loopDelay)})};#P(e){let s=this.element.innerHTML;return s?(this.element.innerHTML="",this.opts.startDelete?(this.element.innerHTML=s,L(this.element),this.#y(T({func:this.#o.bind(this),delay:this.#s(1),deletable:!0},this.#t.length)),e):Te(s).concat(e)):e}#C(){if(this.#a)return null;let e=S("span");return e.className=m,this.#b?(e.innerHTML=B(this.opts.cursorChar).innerHTML,e):(e.style.visibility="hidden",e)}#y(e){let s=this.opts.nextStringDelay;this.queue.add([{delay:s[0]},...e,{delay:s[1]}])}#h(e){ce(this.element,e)}#o(){this.#t.length&&(this.#a?this.element.value=this.element.value.slice(0,-1):this.#c(this.#t[this.cursorPosition]))}#c(e){me(e,this.element)}#s(e=0){return te(this.opts)[e]}get#l(){return this.predictedCursorPosition??this.cursorPosition}get#a(){return E(this.element)}get#b(){return!!this.opts.cursor&&!this.#a}get#t(){return ue(this.element)}}new Ee("#type",{strings:"嗨 👋 我是 SkyWT。<br>很高兴认识你～",speed:100,waitUntilVisible:!0}).go();const x=document.querySelectorAll(".star"),Pe=document.querySelector("#hint"),C=document.querySelector("#submit");let V=0,W=!1;x.forEach(function(t,e){t.addEventListener("click",function(){if(W)return!1;V=e,x.forEach(function(s,i){i<=e?(s.classList.add("ri-star-fill"),s.classList.add("active"),s.classList.remove("ri-star-line")):(s.classList.remove("ri-star-fill"),s.classList.remove("active"),s.classList.add("ri-star-line"))})})});C.addEventListener("click",function(){W=!0;let t="";switch(V){case 0:t="感谢你的评价。";break;case 1:t="感谢你的评价。";break;case 2:t="感谢你的评价。";break;case 3:t="谢谢你的喜欢！";break;case 4:t="谢谢你的喜欢！";break}C.innerText=t,C.classList.remove("link"),Pe.innerText="这个评价组件我还没写后端，所以你的评价不会被提交。你开心就好 😁"});
